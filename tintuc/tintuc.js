const tintuc = [
    {
        id: 1,
        tieude: "B√°n 60 g·ªëc mai v√†ng",
        image: "img__tintuc/1.jpg",
        url: "detail.html?id=1",
        pre: "B√°n 60 g·ªëc mai ",
        luotxem: ""
    },
    {
        id: 2,
        tieude: "C√¢y ki·ªÉng ph√°t t√†i: Mai v√†ng, c√¢y c·∫£nh T·∫øt",
        image: "img__tintuc/2.jpg",
        url: "detail.html?id=2",
        pre: "Mai v√†ng v√† c√¢y c·∫£nh T·∫øt",
        noidung: "C√¢y ki·ªÉng, ƒë·∫∑c bi·ªát l√† mai v√†ng, ƒë√£ tr·ªü th√†nh m·ªôt ph·∫ßn kh√¥ng th·ªÉ thi·∫øu trong d·ªãp T·∫øt Nguy√™n ƒê√°n. Ch√∫ng kh√¥ng ch·ªâ c√≥ gi√° tr·ªã th·∫©m m·ªπ m√† c√≤n mang √Ω nghƒ©a phong th·ªßy, mang l·∫°i t√†i l·ªôc, may m·∫Øn cho gia ƒë√¨nh trong nƒÉm m·ªõi.",
        luotxem: ""
    },
    {
        id: 3,
        tieude: "C√¢y c·∫£nh ‚Äì T√†i s·∫£n qu√Ω gi√° cho th·∫ø h·ªá sau",
        image: "img__tintuc/3.jpg",
        url: "detail.html?id=3",
        pre: "Gi√° tr·ªã c√¢y c·∫£nh",
        luotxem: ""
    },
    {
        id: 4,
        tieude: "Tr·ªìng c√¢y ki·ªÉng ‚Äì Ngh·ªÅ truy·ªÅn th·ªëng v√† t√†i s·∫£n v√¥ gi√°",
        image: "img__tintuc/4.jpg",
        url: "detail.html?id=4",
        pre: "C√¢y ki·ªÉng, ngh·ªÅ tr·ªìng c√¢y",
        noidung: "Tr·ªìng c√¢y ki·ªÉng, ƒë·∫∑c bi·ªát l√† c√°c lo·∫°i c√¢y hoa, c√¢y bonsai, ƒë√£ tr·ªü th√†nh m·ªôt ngh·ªÅ truy·ªÅn th·ªëng c·ªßa nhi·ªÅu gia ƒë√¨nh n√¥ng d√¢n. Ngo√†i vi·ªác t·∫°o ra c√°c s·∫£n ph·∫©m ƒë·∫πp m·∫Øt, c√¢y ki·ªÉng c√≤n c√≥ gi√° tr·ªã kinh t·∫ø l·ªõn trong c√°c d·ªãp l·ªÖ h·ªôi.",
        luotxem: ""
    },
    {
        id: 5,
        tieude: "C√¢y c·∫£nh v√† phong th·ªßy ‚Äì B√≠ quy·∫øt l√†m gi√†u t·ª´ c√¢y ki·ªÉng",
        image: "img__tintuc/5.jpg",
        url: "detail.html?id=5",
        pre: "Phong th·ªßy c√¢y c·∫£nh",
        luotxem: ""
    },
    {
        id: 6,
        tieude: "Tr·ªìng c√¢y c·∫£nh trong nh√† ‚Äì M·∫πo chƒÉm s√≥c c√¢y ki·ªÉng",
        image: "img__tintuc/6.jpg",
        url: "detail.html?id=6",
        pre: "ChƒÉm s√≥c c√¢y c·∫£nh trong nh√†",
        noidung: "Tr·ªìng c√¢y c·∫£nh trong nh√† kh√¥ng ch·ªâ gi√∫p kh√¥ng gian s·ªëng th√™m sinh ƒë·ªông m√† c√≤n gi√∫p l√†m s·∫°ch kh√¥ng kh√≠. Vi·ªác chƒÉm s√≥c c√¢y ki·ªÉng ƒë√∫ng c√°ch s·∫Ω gi√∫p c√¢y ph√°t tri·ªÉn kh·ªèe m·∫°nh v√† gi·ªØ ƒë∆∞·ª£c v·∫ª ƒë·∫πp l√¢u d√†i.",
        luotxem: ""
    },
    {
        id: 7,
        tieude: "Nh·ªØng lo·∫°i c√¢y bonsai ƒë·∫πp v√† d·ªÖ tr·ªìng",
        image: "img__tintuc/7.jpg",
        url: "detail.html?id=7",
        pre: "C√¢y bonsai",
        noidung: "C√¢y bonsai l√† m·ªôt trong nh·ªØng lo·∫°i c√¢y c·∫£nh ƒë∆∞·ª£c ∆∞a chu·ªông nh·∫•t hi·ªán nay. V·ªõi k·ªπ thu·∫≠t c·∫Øt t·ªâa v√† chƒÉm s√≥c t·ªâ m·ªâ, c√¢y bonsai c√≥ th·ªÉ tr·ªü th√†nh t√°c ph·∫©m ngh·ªá thu·∫≠t ƒë·∫πp m·∫Øt. Nh·ªØng c√¢y bonsai ƒë·∫πp c√≤n c√≥ th·ªÉ b√°n v·ªõi gi√° cao, tr·ªü th√†nh ngu·ªìn thu nh·∫≠p cho nhi·ªÅu ng∆∞·ªùi tr·ªìng.",
        luotxem: ""
    },
    {
        id: 8,
        tieude: "C√¢y c·∫£nh T·∫øt ‚Äì M·ªôt ph·∫ßn kh√¥ng th·ªÉ thi·∫øu trong m·ªói gia ƒë√¨nh",
        image: "img__tintuc/8.jpg",
        url: "detail.html?id=8",
        pre: "C√¢y c·∫£nh T·∫øt",
        luotxem: ""
    },
    {
        id: 9,
        tieude: "ChƒÉm s√≥c c√¢y bonsai ‚Äì Ngh·ªá thu·∫≠t tr·ªìng c√¢y ki·ªÉng",
        image: "img__tintuc/9.jpg",
        url: "detail.html?id=9",
        pre: "ChƒÉm s√≥c bonsai",
        noidung: "ChƒÉm s√≥c c√¢y bonsai l√† m·ªôt ngh·ªá thu·∫≠t ƒë√≤i h·ªèi s·ª± ki√™n nh·∫´n v√† t·ªâ m·ªâ. M·ªói c√¢y bonsai c√≥ y√™u c·∫ßu v·ªÅ m√¥i tr∆∞·ªùng s·ªëng, √°nh s√°ng, n∆∞·ªõc v√† ph√¢n b√≥n kh√°c nhau. ƒê·ªÉ c√¢y bonsai ƒë·∫πp v√† ph√°t tri·ªÉn t·ªët, c·∫ßn ph·∫£i c√≥ s·ª± chƒÉm s√≥c k·ªπ l∆∞·ª°ng v√† ƒë√∫ng c√°ch.",
        luotxem: ""
    },
    {
        id: 10,
        tieude: "Gi·ªõi thi·ªáu c√°c lo·∫°i c√¢y ki·ªÉng ph·ªï bi·∫øn",
        image: "img__tintuc/10.jpg",
        url: "detail.html?id=10",
        pre: "C√°c lo·∫°i c√¢y ki·ªÉng",
        luotxem: ""
    },
    {
        id: 11,
        tieude: "C√¢y ki·ªÉng cho kh√¥ng gian n·ªôi th·∫•t hi·ªán ƒë·∫°i",
        image: "img__tintuc/11.jpg",
        url: "detail.html?id=11",
        pre: "C√¢y ki·ªÉng cho n·ªôi th·∫•t",
        noidung: "C√¢y ki·ªÉng kh√¥ng ch·ªâ gi√∫p l√†m ƒë·∫πp kh√¥ng gian m√† c√≤n c√≥ th·ªÉ t·∫°o ƒëi·ªÉm nh·∫•n cho ng√¥i nh√† c·ªßa b·∫°n. C√¢y nh∆∞ c√¢y kim ti·ªÅn, c√¢y l∆∞·ª°i h·ªï hay c√¢y ph√∫ qu√Ω ƒë∆∞·ª£c ∆∞a chu·ªông trong c√°c kh√¥ng gian n·ªôi th·∫•t hi·ªán ƒë·∫°i nh·ªù v√†o kh·∫£ nƒÉng th√≠ch ·ª©ng v·ªõi m√¥i tr∆∞·ªùng trong nh√† v√† d·ªÖ d√†ng chƒÉm s√≥c.",
        luotxem: ""
    },
    {
        id: 12,
        tieude: "Thu·∫≠n Ph√°t Garden c√≥ 1 b√†i ƒëƒÉng m·ªõi",
        image: "img__tintuc/12.jpg",
        url: "detail.html?id=12",
        pre: "  Trong gi·∫•c m∆° m√πa h√® c√≥ m·ªôt khu r·ª´ng nh·ªè ƒëang th√¨ th·∫ßm nh·ªØng l·ªùi th∆°‚Ä¶‚ú®",
        luotxem: ""
    },
    {
        id: 13,
        tieude: "üåø Thu·∫≠n Ph√°t Garden ‚Äì C√¢y Ki·ªÉng ƒê·∫πp, Thi·∫øt K·∫ø S√°ng T·∫°o Gi·ªØa L√≤ng C·∫ßn Th∆°",
        image: "img__tintuc/13.jpg",
        url: "detail.html?id=13",
        pre: "üé® Thi·∫øt k·∫ø kh√¥ng gian c√¢y ki·ªÉng ‚Äì ngh·ªá thu·∫≠t c·ªßa s·ª± s·ªëng",
        luotxem: " "
    },
    {
        id: 14,
        tieude: "üå± Ch·∫•t l∆∞·ª£ng s·∫£n ph·∫©m ƒë·∫£m b·∫£o ‚Äì T·ª´ v∆∞·ªùn ƒë·∫øn tay kh√°ch",
        image: "img__tintuc/14.jpg",
        url: "detail.html?id=14",
        pre: "",
        luotxem: " "
    },
    {
        id: 15,
        tieude: "C√¢y C·∫£nh: Tinh Hoa C·ªßa Thi√™n Nhi√™n Trong Kh√¥ng Gian S·ªëng",
        image: "img__tintuc/15.jpg",
        url: "detail.html?id=15",
        pre: "",
        luotxem: " "
    },
    {
        id: 16,
        tieude: "üåø C√¢y C·∫£nh Tr·ªìng Trong Nh√†: V·ª´a ƒê·∫πp V·ª´a T·ªët Cho S·ª©c Kh·ªèe",
        image: "img__tintuc/16.jpg",
        url: "detail.html?id=16",
        pre: "Tr·ªìng c√¢y c·∫£nh trong nh√† kh√¥ng ch·ªâ gi√∫p kh√¥ng gian s·ªëng tr·ªü n√™n xanh m√°t, m√† c√≤n mang l·∫°i nhi·ªÅu l·ª£i √≠ch thi·∫øt th·ª±c:",
        luotxem: " "
    },
    // {
    //     id: 0,
    //     tieude: "",
    //     image: "image: "img__tintuc/13.jpg",
    //     url:  "detail.html?id=13",
    //     pre: "",
    //     luotxem: " "
    // },
];

function displaytintuc() {
    const tintucList = document.getElementById("tintuc__list");
    tintucList.innerHTML = "";

    for (let i = 0; i < tintuc.length; i++) {
        const tt = tintuc[i];
        let count = localStorage.getItem(`tintuc_${tt.id}_luotxem`) ? parseInt(localStorage.getItem(`tintuc_${tt.id}_luotxem`)) : 0;

        const ttCard = document.createElement('a');
        ttCard.href = tt.url;
        ttCard.addEventListener("click", function () {

            count++;
            tt.luotxem = count;
            localStorage.setItem(`tintuc_${tt.id}_luotxem`, count);
            display__docnhieu();
        });
        //day la the chua
        ttCard.classList.add("tt__container");

        // Ti√™u ƒë·ªÅ
        const title = document.createElement('h1');
        title.classList.add("title");
        title.textContent = tt.tieude;

        // ·∫¢nh
        const img = document.createElement('img');
        img.classList.add('img');
        img.src = tt.image;
        //phan doc truoc
        const pre = document.createElement('span');
        pre.classList.add('pre');
        pre.classList.add('hidden');
        pre.textContent = tt.pre;
        //luot xem
        const ls = document.createElement('span');
        ls.classList.add("luotxem");
        tt.luotxem = count;
        ls.textContent = "L∆∞·ª£t xem: " + tt.luotxem;
        //icon
        const icon = document.createElement('i');
        icon.classList.add("fa-solid", "fa-eye", "icon");

        ttCard.appendChild(img);
        ttCard.appendChild(title);
        ttCard.appendChild(pre);
        ttCard.appendChild(ls);
        ttCard.appendChild(icon);

        tintucList.appendChild(ttCard);
    }
    display__docnhieu();
}
const tintuc__copy = tintuc.slice();
function display__docnhieu() {
    tintuc.sort((a, b) => b.luotxem - a.luotxem);
    const docnhieu = document.querySelector("#content__docnhieu");
    docnhieu.innerHTML = "";
    for(let i=0 ; i<=7; i++){
        let item = tintuc[i];
        const card = document.createElement("a");
        card.href = item.url;
        card.classList.add("top_card");
        let count = localStorage.getItem(`tintuc_${item.id}_luotxem`) ? parseInt(localStorage.getItem(`tintuc_${item.id}_luotxem`)) : 0;
        card.addEventListener("click", function () {
            count++;
            item.luotxem = count;
            localStorage.setItem(`tintuc_${item.id}_luotxem`, count);
            display__docnhieu();
        });
        card.innerHTML = `
        <h1 class="title_docnhieu">${item.tieude}</h1>
        <p>${item.luotxem}</p>
       
        `
        docnhieu.appendChild(card);
    }
}

let List = [];
//phan tim kiem chuoi roi hien ra
function getValue() {
    const tag = document.getElementById("search").value;
    const parts = tag.split(" ");
    searchElement(parts);
    displayList();
}

function searchElement(parts) {
    List = [];
    parts.forEach(function (item) {
        for (let i = 0; i < tintuc.length; i++) {
            if (tintuc[i].tieude.toLowerCase().includes(item.toLowerCase()) && !(List.find(a => a === tintuc[i]))) List.push(tintuc[i]);

        }
    })

}
function displayList() {
    const tintucList = document.getElementById("tintuc__list");
    tintucList.innerHTML = "";

    for (let i = 0; i < List.length; i++) {
        const tt = List[i];

        const ttCard = document.createElement('a');
        ttCard.href = tt.url;

        ttCard.classList.add("tt__container");

        // Ti√™u ƒë·ªÅ
        const title = document.createElement('h1');
        title.classList.add("title");
        title.textContent = tt.tieude;

        // ·∫¢nh
        const img = document.createElement('img');
        img.classList.add('img');
        img.src = tt.image;

        const pre = document.createElement('span');
        pre.classList.add('pre');
        pre.classList.add('hidden');
        pre.textContent = tt.pre;
        ttCard.appendChild(img);
        ttCard.appendChild(title);
        ttCard.appendChild(pre);
        tintucList.appendChild(ttCard);
    }
}
document.addEventListener("keydown", function (event) {
    if (event.key === "Enter") getValue();
});
displaytintuc();

//mo side bar yeu thich
const open = document.getElementById("open");
const close = document.getElementById("close");
const yeuthich = document.getElementById("yeuthich");


open.addEventListener("click", function () {
    if (yeuthich.classList.contains("danhmucyeuthich--open")) {
        yeuthich.classList.remove("danhmucyeuthich--open");
        // yeuthich.classList.add("danhmucyeuthich--close");
    }

    else {
        yeuthich.classList.add("danhmucyeuthich--open");
    }
});
close.addEventListener("click", function () {
    yeuthich.classList.remove("danhmucyeuthich--open");
    yeuthich.classList.add("danhmucyeuthich--close");
});
let love = [];
function displayYeuthich() {
    love = [];
    //mag id
    for (let i = 0; i < tintuc__copy.length; i++) {
        if ((localStorage.getItem(`yeuthich${i}`)) === "0") {
            love.push(tintuc__copy[i]);
        }
    };
    displayYeuthich__out();
};
function displayYeuthich__out() {
    const yeuthich__box = document.getElementById("content_of_sidebar");
    yeuthich__box.innerHTML = "";
    if (love.length == 0) {
        yeuthich__box.classList.add("list__trong");
        yeuthich__box.textContent = "Ch∆∞a c√≥ b√†i vi·∫øt y√™u th√≠ch."
        document.getElementById("box--sum").classList.add("hidden__class");
    }
    else
        for (let i = 0; i < love.length; i++) {
            const card = document.createElement("a");
            const img = document.createElement("img");
            const title = document.createElement("p");
            const icon = document.createElement('i');
            const contain__icon__card = document.createElement("div");

            contain__icon__card.classList.add("contain--icon--card");
            card.classList.add("yeuthich__card");
            title.classList.add("yeuthich__title");
            icon.classList.add("fa-trash", "icon--trash", "fa-solid");
            icon.id = `icon${i}`;
            img.classList.add("yeuthich__img");
            img.classList.add("hidden__mobile");
            card.href = love[i].url;
            img.src = love[i].image;
            title.textContent = love[i].tieude;

            contain__icon__card.appendChild(icon);
            card.appendChild(img);
            card.appendChild(title);
            contain__icon__card.appendChild(card);
            yeuthich__box.appendChild(contain__icon__card);

            // xoa tat ca cac bai viet yeu thich
            document.getElementById("deletes").addEventListener("click", function () {
                for (let i = 0; i < love.length; i++) {
                    localStorage.setItem(`yeuthich${love[i].id - 1}`, 1);
                    displayYeuthich();
                    const tb = document.getElementById(`notification__delete`);
                    const div = document.createElement(`div`);
                    div.classList.add("notification__delete");
                    div.textContent = "ƒê√£ x√≥a t·∫•t c·∫£ th√†nh c√¥ng";
                    tb.appendChild(div);

                    setTimeout(function () {
                        tb.remove(div);
                    }, 4000);
                }
            })
            //xoa phan tu co id la iconi (luu trong local la yeuthichx tuong ung id la x+1)
            document.getElementById(`icon${i}`).addEventListener("click", function () {

                localStorage.setItem(`yeuthich${love[i].id - 1}`, 1);
                const tb = document.getElementById(`notification__delete`);
                const div = document.createElement(`div`);
                div.classList.add("notification__delete");
                div.textContent = "ƒê√£ x√≥a th√†nh c√¥ng";
                tb.appendChild(div);

                setTimeout(function () {
                    tb.remove(div);
                }, 4000);


                displayYeuthich();
            }
            );
        }

    document.getElementById("sum").textContent = Number(love.length);

}






